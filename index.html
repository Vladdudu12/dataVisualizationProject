<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">

</head>
<body onload="init()">
    <!-- lista de țări este: BE, BG, CZ, DK, DE, EE, IE, EL, ES, FR, HR, IT, CY, LV, LT, LU, HU, MT, NL, AT, PL, PT, RO, SI, SK, FI, SE  -->
    <select name="selectCountry" id="selectCountry"></select>

    <!-- PIB pe cap de locuitor/ Speranta Viata / Populatie pentru țările UE pentru ultimii 15 ani  -->
    <!-- PIB, POP, SV-->
    <select name="selectIndicator" id="selectIndicator"></select>

    <!-- <input type="button" name="btnFilter" onClick="filterDataset" -->
    <input type="button" name="btnFilter" id="btnFilter" onclick='filterButton()' value="Filtrare">

    <select name="selectYear" id="selectYear"></select>

    <input type="button" name="btnFilter" id="btnFilterYear" onclick='filterYearButton()' value="Filtrare An">


    <br>
    <table>
        <thead>
            <th>PIB pe cap de locuitor</th>
            <th>Speranta de Viata</th>
            <th>Populatie</th>
        </thead>
        <tbody>
            <tr>
                <td>CEva</td>
                <td>Altceva</td>
                <td>Hello</td>
            </tr>
        </tbody>
    </table>

    <br/>

    <!-- <svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="graph" aria-labelledby="title" role="img">
        <title id="title">A line chart showing some information</title>

        <g class="grid x-grid" id="xGrid">
            <line x1="90" x2="90" y1="5" y2="371"></line>
        </g>
        <g class="grid y-grid" id="yGrid">
            <line x1="90" x2="705" y1="370" y2="370"></line>
        </g>
            <g class="labels x-labels">
            <text x="100" y="400">2008</text>
            <text x="246" y="400">2009</text>
            <text x="392" y="400">2010</text>
            <text x="538" y="400">2011</text>
            <text x="684" y="400">2012</text>
            <text x="400" y="440" class="label-title">Year</text>
        </g>
        <g class="labels y-labels">
            <text x="80" y="15">15</text>
            <text x="80" y="131">10</text>
            <text x="80" y="248">5</text>
            <text x="80" y="373">0</text>
            <text x="50" y="200" class="label-title">Price</text>
        </g>
        <g class="data" data-setname="Our first data set" id="grupDate">
            <line x1="90" y1="192" x2="240" y2="141" stroke-width="1" stroke="blue"/>
            <line x1="240" y1="141" x2="388" y2="179" stroke-width="1" stroke="blue"/>
            <line x1="388" y1="179" x2="531" y2="200" stroke-width="1" stroke="blue"/>
            <line x1="531" y1="200" x2="677" y2="104" stroke-width="1" stroke="blue"/>
            <circle cx="90" cy="192" data-value="7.2" r="3"></circle>
            <circle cx="240" cy="141" data-value="8.1" r="3"></circle>
            <circle cx="388" cy="179" data-value="7.7" r="3"></circle>
            <circle cx="531" cy="200" data-value="6.8" r="3"></circle>
            <circle cx="677" cy="104" data-value="6.7" r="3"></circle>
        </g>
    </svg> -->
    
    <script type="text/javascript" src="index.js"></script>

    <script>

        // function filterDataset(countryID, indicator){
        //     return dataset.filter(x => x.tara === countryID && x.indicator === indicator);
        // }



        function init() {
            populateIndicatorList();
            populateCountryList();
            populateYearList();
        }


        function populateIndicatorList() {
            const indicatorsArray = ["PIB", "POP", "SV"];
    
            let selectIndicatorElement = document.getElementById("selectIndicator");
            if(selectIndicatorElement !== null) {
                indicatorsArray.forEach(x => {
                    //console.log(x);
                    selectIndicatorElement.innerHTML += `<option value='${x}'>${x}</option>`;
                })
            }
    
        }
        function populateCountryList(){
            const countriesArray = [
                "BE", "BG", "CZ", "DK", "DE", "EE",
                "IE", "EL", "ES", "FR", "HR", "IT",
                "CY", "LV", "LT", "LU", "HU", "MT",
                "NL", "AT", "PL", "PT", "RO", "SI",
                "SK", "FI", "SE"];
    
            let selectCountryElement = document.getElementById("selectCountry");
            if(selectCountryElement !== null) {
                countriesArray.forEach(x => {
                    //console.log(x);
                    selectCountryElement.innerHTML += `<option value='${x}'>${x}</option>`;
                })
            }
        }

        function populateYearList() {
            let selectYearElement = document.getElementById("selectYear");

            if(selectYearElement !== null) {
                for(let i = 0; i <= 23; i++) {
                    selectYearElement.innerHTML += `<option value='${2023-i}'>${2023-i}</option>`
                }
            }
        }
    
    
        function filterYearButton() {
            let selectYearElement = document.getElementById("selectYear");
            let year = selectYearElement.value;
            console.log(year);

            console.log(filterDatasetByYear(year));
        }

        function filterButton() {
            let selectCountryElement = document.getElementById("selectCountry");
            let selectIndicatorElement = document.getElementById("selectIndicator");
    
            let country = selectCountryElement.value;
            let indicator = selectIndicatorElement.value;
            // console.log(indicator);
            // console.log(country);
            console.log(filterDatasetByCountryAndIndicator(country, indicator));
        }
    </script>
</body>
</html>